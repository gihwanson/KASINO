# AI 댓글 프롬프트 구조 가이드

## 📋 개요

AI가 댓글을 생성할 때 사용하는 프롬프트는 다음 순서로 구성됩니다:

```
1. 기본 규칙
   ↓
2. 도박 용어 사전
   ↓
3. 좋은 댓글 예시 (Few-shot Learning)
   ↓
4. 나쁜 댓글 예시 (피해야 할 패턴)
   ↓
5. 게시글 본문 + 기존 댓글
   ↓
6. AI가 댓글 생성
```

---

## 🗂️ 파일 구조

### 1. `AI_프롬프트_설정.json` (메인 설정 파일)
- **위치**: 프로젝트 루트
- **용도**: AI 댓글 스타일을 제어하는 모든 설정
- **수정 방법**: JSON 형식 유지하면서 내용만 수정

### 2. `도박용어_사전.json` (도박 용어 사전)
- **위치**: 프로젝트 루트
- **용도**: 도박 사이트에서 사용하는 용어 정의
- **자동 로드**: 매크로봇 실행 시 자동으로 포함됨

### 3. `ai_learning_data.json` (학습 데이터 - 선택사항)
- **위치**: 프로젝트 루트
- **용도**: Few-shot learning 예시 저장
- **생성 방법**: `AI_학습_시스템.bat` 실행하여 추가

---

## 🔧 설정 파일 수정 방법

### `AI_프롬프트_설정.json` 수정하기

#### 1. 좋은 댓글 예시 추가
```json
"좋은_댓글_예시": [
  {
    "본문_예시": "오늘 정배 찍었는데 다 터졌어요",
    "기존_댓글": ["축하해요", "부럽네요"],
    "좋은_댓글": "대박이네요",
    "이유": "본문이 존댓말이고 기쁜 내용이므로 존댓말로 축하"
  }
]
```

#### 2. 나쁜 댓글 예시 추가
```json
"나쁜_댓글_예시": [
  {
    "댓글": "좋은 글 감사합니다",
    "이유": "형식적이고 금지 단어 사용"
  }
]
```

#### 3. 금지 단어 추가
```json
"금지_단어": [
  "감사합니다",
  "새로운_금지_단어"
]
```

#### 4. 상황별 댓글 예시 수정
```json
"상황별_댓글_예시": {
  "절망_후회": ["힘내용~", "아쉽네~", "새로운_댓글"]
}
```

---

## 🎯 프롬프트 생성 과정

### Step 1: 기본 규칙 로드
```
AI_프롬프트_설정.json의 "기본_규칙" 섹션
→ 게시판 특성, 댓글 스타일, 최대 길이 등
```

### Step 2: 도박 용어 사전 추가
```
도박용어_사전.json
→ 모든 도박 용어와 예문이 프롬프트에 포함됨
```

### Step 3: Few-shot Learning 예시 추가
```
AI_프롬프트_설정.json의 "좋은_댓글_예시"
→ AI가 이런 스타일로 댓글을 작성하도록 학습
```

### Step 4: 나쁜 예시 추가
```
AI_프롬프트_설정.json의 "나쁜_댓글_예시"
→ AI가 이런 댓글을 피하도록 학습
```

### Step 5: 게시글 본문 + 기존 댓글 추가
```
실제 게시글 본문과 기존 댓글들
→ AI가 이 맥락에서 댓글 생성
```

### Step 6: AI 댓글 생성
```
OpenAI API 호출
→ 위의 모든 정보를 종합하여 댓글 생성
```

---

## 📊 실제 프롬프트 예시

```
다음 게시글 본문과 기존 댓글들을 읽고, 작성자의 감정에 공감하는 자연스러운 댓글을 작성해주세요.

⚠️ 중요: 이 게시판은 도박 관련 사이트의 자유게시판입니다.
- 자유게시판이기 때문에 도박과 관련된 얘기만 하는 것이 아니라 단순 수다를 떨 때도 있습니다
- 게시글 주제가 도박이든 일상이든 상관없이, 본문 내용과 기존 댓글 흐름에 맞춰 작성해야 합니다
- 댓글은 페이스북, 네이버 등 일반 커뮤니티와 똑같은 스타일로 작성해야 합니다

🎯 말투 매칭 규칙 (매우 중요):
- 본문이 존댓말이면 댓글도 반드시 높임말을 사용해야 합니다

🎰 도박 용어 사전:
- 정배: 정배당, 즉 강팀·승률 높은 팀
  예: "오늘 정배 가는 날이네", "정배 찍었는데 이겼어요"
- 역배: 언더독, 약팀. 배당이 높음
  예: "역배 찍었는데 터졌어요", "역배가 이겼네"
...

📚 좋은 댓글 예시:
예시 1:
본문: 오늘 정배 찍었는데 다 터졌어요
기존 댓글: 축하해요, 부럽네요
좋은 댓글: 대박이네요

❌ 피해야 할 댓글 예시:
- 좋은 글 감사합니다 (형식적이고 금지 단어 사용)
- 유용한 정보네요 (형식적이고 일반적인 댓글)

게시글 본문:
[실제 게시글 내용]

현재 댓글 흐름:
1. 축하해요
2. 부럽네요

댓글:
```

---

## 🛠️ 개발자용 빠른 수정 가이드

### 댓글 스타일 변경하기
1. `AI_프롬프트_설정.json` 파일 열기
2. `좋은_댓글_예시` 배열에 원하는 스타일 추가
3. 저장 후 매크로봇 재실행

### 금지 단어 추가하기
1. `AI_프롬프트_설정.json` 파일 열기
2. `금지_단어` 배열에 단어 추가
3. 저장 후 매크로봇 재실행

### 도박 용어 추가하기
1. `도박용어_사전.json` 파일 열기
2. 해당 카테고리에 용어 추가
3. 저장 후 매크로봇 재실행

---

## 🔍 디버깅

### AI가 원하는 댓글을 생성하지 않을 때
1. `AI_프롬프트_설정.json`의 `좋은_댓글_예시` 확인
2. 비슷한 상황의 예시가 있는지 확인
3. 없으면 예시 추가

### AI가 금지 단어를 사용할 때
1. `AI_프롬프트_설정.json`의 `금지_단어` 확인
2. 해당 단어가 포함되어 있는지 확인
3. 없으면 추가

### 도박 용어를 이해하지 못할 때
1. `도박용어_사전.json` 확인
2. 해당 용어가 정의되어 있는지 확인
3. 없으면 추가

---

## 📝 파일별 역할 정리

| 파일 | 역할 | 필수 여부 |
|------|------|----------|
| `AI_프롬프트_설정.json` | 메인 설정 파일 (기본 규칙, 예시) | ✅ 필수 |
| `도박용어_사전.json` | 도박 용어 정의 | ✅ 필수 |
| `ai_learning_data.json` | Few-shot learning 예시 (추가 학습) | ⚪ 선택 |

---

## 💡 팁

1. **예시는 많을수록 좋음**: 좋은 댓글 예시를 많이 추가할수록 AI가 더 정확하게 학습
2. **다양한 상황 추가**: 존댓말/반말, 기쁨/슬픔 등 다양한 상황의 예시 추가
3. **정기적 업데이트**: 실제 댓글을 보면서 좋은 예시를 계속 추가


